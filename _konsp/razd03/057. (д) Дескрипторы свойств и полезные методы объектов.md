# 057. (д) Дескрипторы свойств и полезные методы объектов

## `Object.defineProperties()`
- Сводка
	> Метод `Object.defineProperties()` определяет новые или изменяет существующие свойства, непосредственно на объекте, возвращая этот объект.
- Синтаксис
	- `Object.defineProperties(obj, props)`
- Параметры
	- `obj`
		- Объект, на котором определяются новые или изменяются существующие свойства.
	- `props`
		> Объект, чьи собственные перечисляемые свойства представляют собой дескрипторы для создаваемых или изменяемых свойств. Дескрипторы свойств обладают следующими дополнительными ключами:
		- `configurable`
			- Равен `true` только в том случае, если тип этого дескриптора свойства может быть изменён и если свойство может быть удалено из содержащего его объекта. Значение по умолчанию установлено в `false`.
		- `enumerable`
			- Равен `true` только в том случае, если это свойство можно увидеть через перечисление свойств содержащего его объекта. Значение по умолчанию установлено в `false`.
	  - `value`
			- Значение, ассоциированное со свойством. Может быть любым допустимым значением JavaScript (числом, объектом, функцией и т.д.). Значение по умолчанию установлено в `undefined`.
		- `writable`
			- Равен `true` только в том случае, если значение, ассоциированное со свойством, может быть изменено с помощью оператора присваивания. Значение по умолчанию установлено в `false`.
		- `get`
			- Функция, используемая как геттер свойства, либо undefined, если свойство не имеет геттера. Возвращаемое значение функции будет использоваться как значение свойства. Значение по умолчанию установлено в undefined.
		- `set`
			- Функция, используемая как сеттер свойства, либо undefined, если свойство не имеет сеттера. Функция принимает единственным аргументом новое значение, присваиваемое свойству. Значение по умолчанию установлено в undefined.
- Возвращаемое значение
	- Объект, переданный в функцию.
- Описание
	- Метод `Object.defineProperties()`, по сути, определяет все свойства, соответствующие собственным свойствам объекта props, на объекте `obj`.
- Примеры
	```javascript
	Object.defineProperties(obj, {
	  property1: {value: true, writable: true},
	  property2: {value: 'Hello', writable: false}
	  // и т.д.
	});
	```
---

## Полезные методы объектов

- `Object.preventExtensions()`
	- Метод `Object.preventExtensions()` предотвращает добавление новых свойств к объекту (то есть, предотвращает расширение этого объекта в будущем).
- `Object.seal()`
	- Метод `Object.seal()` запечатывает объект, предотвращая добавление новых свойств к объекту и делая все существующие свойства не настраиваемыми. Значения представленных свойств всё ещё могут изменяться, поскольку они остаются записываемыми.
- `Object.freeze()`
	- Метод `Object.freeze()` замораживает объект: это значит, что он предотвращает добавление новых свойств к объекту, удаление старых свойств из объекта и изменение существующих свойств или значения их атрибутов перечисляемости, настраиваемости и записываемости. В сущности, объект становится эффективно неизменным. Метод возвращает замороженный объект.
- `Object.isExtensible()`
	- Определяет, разрешено ли расширение объекта.
- `Object.isFrozen()`
	- Определяет, был ли объект заморожен.
- `Object.isSealed()`
	- Определяет, является ли объект запечатанным (sealed).
- `Object.is()`
	- Метод `Object.is()` определяет, являются ли два значения одинаковыми значениями.

---

## `Object.keys()`
- Сводка
	> Метод `Object.keys()` возвращает массив из собственных перечисляемых свойств переданного объекта, в том же порядке, в котором они бы обходились циклом `for...in` (разница между циклом и методом в том, что цикл перечисляет свойства и из цепочки прототипов).
- Синтаксис
	```javascript
	Object.keys(obj)
	```
- Параметры
	- `obj`
		- Объект, чьи собственные перечисляемые свойства будут возвращены.
- Описание
	- Метод `Object.keys` возвращает массив строковых элементов, соответствующих именам перечисляемых свойств, найденных непосредственно в самом объекте. Порядок свойств такой же, как и при ручном перечислении свойств в объекте через цикл.
- Примеры
	```javascript
	var arr = ['a', 'b', 'c'];
	console.log(Object.keys(arr)); // консоль: ['0', '1', '2']

	// Массивоподобный объект
	var obj = { 0: 'a', 1: 'b', 2: 'c' };
	console.log(Object.keys(obj)); // консоль: ['0', '1', '2']

	// Массивоподобный объект со случайным порядком ключей
	var an_obj = { 100: 'a', 2: 'b', 7: 'c' };
	console.log(Object.keys(an_obj)); // консоль: ['2', '7', '100']

	// Свойство getFoo является не перечисляемым свойством
	var my_obj = Object.create({}, { getFoo: { value: function() { return this.foo; } } });
	my_obj.foo = 1;

	console.log(Object.keys(my_obj)); // консоль: ['foo']
	```
	> Если вы хотите увидеть все свойства, а не только перечисляемые, смотрите метод `Object.getOwnPropertyNames()`.

---

## `Object.values()`
- Сводка
	> Метод `Object.values()` возвращает массив значений перечисляемых свойств объекта в том же порядке что и цикл for...in. Разница между циклом и методом в том, что цикл перечисляет свойства и из цепочки прототипов.
- Синтаксис
	```javascript
	Object.values(obj)
	```
- Параметры
	- `obj`
		- Объект, чьи значения перечисляемых свойств будут возвращены.
- Возвращаемое значение
	- Массив содержащий значения перечисляемых свойств объекта.
- Описание
	- `Object.values()` возвращает массив, чьи элементы это значения перечисляемых свойств найденных в объекте. Порядок такой же как если пройтись по объекту циклом вручную.
- Примеры
	```javascript
	var obj = { foo: "bar", baz: 42 };
	console.log(Object.values(obj)); // ['bar', 42]

	// Массив как объект
	var obj = { 0: 'a', 1: 'b', 2: 'c' };
	console.log(Object.values(obj)); // ['a', 'b', 'c']

	// Массив как объект со случайным порядком ключей
	// Когда мы используем нумерованные ключ, значения возвращаются в порядке возрастания
	var an_obj = { 100: 'a', 2: 'b', 7: 'c' };
	console.log(Object.values(an_obj)); // ['b', 'c', 'a']

	// getFoo неперечисляемое свойство
	var my_obj = Object.create({}, { getFoo: { value: function() { return this.foo; } } });
	my_obj.foo = "bar";
	console.log(Object.values(my_obj)); // ['bar']

	// Аргумент, не являющийся объектом, будет приведён к объекту
	console.log(Object.values("foo")); // ['f', 'o', 'o']
	```
---

# `Object.entries()`
- Сводка
	> `Object.entries()` метод возвращает массив собственных перечисляемых свойств указанного объекта в формате [key, value], в том же порядке, что и в цикле for...in (разница в том, что for-in перечисляет свойства из цепочки прототипов). Порядок элементов в массиве который возвращается `Object.entries()` не зависит от того как объект объявлен. Если существует необходимость в определённом порядке, то массив должен быть отсортирован до вызова метода, например `Object.entries(obj).sort((a, b) => a[0] - b[0]);`.
- Синтаксис
	```javascript
	Object.entries(obj)
	```
- Параметры
	- `obj`
		- Объект, чьи перечислимые свойства будут возвращены в виде массива `[key, value]`.
- Возвращаемое значение
	- Массив перечислений собственных свойств объекта с парами `[key, value]`.
- Описание
	- `Object.entries()` возвращает массив, элементами которого являются массивы, соответствующие перечисляемому свойству пары `[key, value]`, найденной прямо в `object`. Порядок свойств тот же, что и при прохождении циклом по свойствам объекта вручную.
- Примеры
	```javascript
	const object1 = {
	  a: 'somestring',
	  b: 42
	};

	for (const [key, value] of Object.entries(object1) ) {
	  console.log(`${key}: ${value}`);
	}

	// Expected output:
	// "a: somestring"
	// "b: 42"
	```
	```javascript
	var obj = { foo: "bar", baz: 42 };
	console.log( Object.entries(obj) ); // [ ['foo', 'bar'], ['baz', 42] ]

	// массив как объект
	var obj = { 0: 'a', 1: 'b', 2: 'c' };
	console.log( Object.entries(obj) ); // [ ['0', 'a'], ['1', 'b'], ['2', 'c'] ]

	// массив как объект c random сортировкой ключей
	var an_obj = { 100: 'a', 2: 'b', 7: 'c' };
	console.log( Object.entries(an_obj) ); // [ ['2', 'b'], ['7', 'c'], ['100', 'a'] ]

	// getFoo is property which isn't enumerable
	var my_obj = Object.create({}, { getFoo: { value: function() { return this.foo; } } });
	my_obj.foo = "bar";
	console.log( Object.entries(my_obj) ); // [ ['foo', 'bar'] ]

	// non-object argument will be coerced to an object
	console.log( Object.entries("foo") ); // [ ['0', 'f'], ['1', 'o'], ['2', 'o'] ]
	
	// returns an empty array for any primitive type, since primitives have no own properties
	console.log( Object.entries(100) ); // [ ]

	// iterate through key-value gracefully
	const obj = { a: 5, b: 7, c: 9 };
	for (const [key, value] of Object.entries(obj)) {
	  console.log(`${key} ${value}`); // "a 5", "b 7", "c 9"
	}

	// Or, using array extras
	Object.entries(obj).forEach(([key, value]) => {
	  console.log(`${key} ${value}`); // "a 5", "b 7", "c 9"
	});
	```

---

## Ссылки:
- Object.keys()
	- https://developer.mozilla.org/ru/docs/Web/JavaScript/Reference/Global_Objects/Object/keys
- Object.values()
	- https://developer.mozilla.org/ru/docs/Web/JavaScript/Reference/Global_Objects/Object/values
- Object.entries()
	- https://developer.mozilla.org/ru/docs/Web/JavaScript/Reference/Global_Objects/Object/entries

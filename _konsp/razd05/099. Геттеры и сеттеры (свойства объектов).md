# 099. Геттеры и сеттеры (свойства объектов)

Есть два типа свойств объекта.

Первый тип это свойства-данные (`data properties`). Мы уже знаем, как работать с ними. Все свойства, которые мы использовали до текущего момента, были свойствами-данными.

Второй тип это свойства-аксессоры (`accessor properties`). По своей сути это функции, которые используются для присвоения и получения значения, но во внешнем коде они выглядят как обычные свойства объекта.

## Геттеры и сеттеры

Свойства-аксессоры представлены методами: «геттер» – для чтения и «сеттер» – для записи. При литеральном объявлении объекта они обозначаются `get` и `set`:

```javascript
let obj = {
  get propName() {
    // геттер, срабатывает при чтении obj.propName
  },

  set propName(value) {
    // сеттер, срабатывает при записи obj.propName = value
  }
};
```

Геттер срабатывает, когда `obj.propName` читается, сеттер – когда значение присваивается.

---

## Дескрипторы свойств доступа

Дескрипторы свойств-аксессоров отличаются от «обычных» свойств-данных.

Свойства-аксессоры не имеют value и writable, но взамен предлагают функции `get` и `set`.

То есть, дескриптор аксессора может иметь:
- `get` – функция без аргументов, которая сработает при чтении свойства,
- `set` – функция, принимающая один аргумент, вызываемая при присвоении свойства,
- `enumerable` – то же самое, что и для свойств-данных,
- `configurable` – то же самое, что и для свойств-данных.

Например, для создания аксессора `fullName` при помощи defineProperty мы можем передать дескриптор с использованием `get` и `set`:

```javascript
let user = {
  name: "John",
  surname: "Smith"
};

Object.defineProperty(user, 'fullName', {
  get() {
    return `${this.name} ${this.surname}`;
  },

  set(value) {
    [this.name, this.surname] = value.split(" ");
  }
});

alert(user.fullName); // John Smith

for(let key in user) alert(key); // name, surname
```

Ещё раз заметим, что свойство объекта может быть либо свойством-аксессором (с методами `get`/`set`), либо свойством-данным (со значением `value`).

При попытке указать и `get`, и `value` в одном дескрипторе будет ошибка:

```javascript
// Error: Invalid property descriptor.
Object.defineProperty({}, 'prop', {
  get() {
    return 1
  },

  value: 2
});
```

---

## Ссылки

- Геттеры и сеттеры
	- https://learn.javascript.ru/property-accessors

# 174. React Router v6+

---

## [–ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è –≤ React Router: –∫–∞–∫ –æ–Ω–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –∏ –ø–æ—á–µ–º—É –µ–µ –≤—ã–±–∏—Ä–∞—é—Ç —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∏](https://ru.hexlet.io/blog/posts/react-router-v6)

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –º–∞—Ä—à—Ä—É—Ç–æ–≤

**`Router`** ‚Äî —ç—Ç–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –≤–µ—Ä—Ö–Ω–µ–≥–æ —É—Ä–æ–≤–Ω—è —Å –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–π –∑–∞—Å—Ç–∞–≤–ª—è–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –≤—Å–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ –∏ —Ö—É–∫–∏. –í React Router –µ—Å—Ç—å `BrowserRouter`, `HashRouter`, `StaticRouter`, `NativeRouter` –∏ `MemoryRouter`. –î–ª—è –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π –æ–±—ã—á–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `BrowserRouter`. –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–æ–ª–∂–Ω–æ –∏–º–µ—Ç—å –æ–¥–∏–Ω `<BrowserRouter>`, –∫–æ—Ç–æ—Ä—ã–π –æ–±–µ—Ä—Ç—ã–≤–∞–µ—Ç –æ–¥–∏–Ω –∏–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ `<Routes>`.

`<Routes>` –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –≤—Å–µ —Å–≤–æ–∏ –¥–æ—á–µ—Ä–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç—ã `<Route>`, —á—Ç–æ–±—ã –Ω–∞–π—Ç–∏ –Ω–∞–∏–ª—É—á—à–µ–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ, –∏ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç —ç—Ç—É —á–∞—Å—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞.

`<Route>` –º–æ–∂–Ω–æ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –ª–∏–±–æ –∫–∞–∫ –æ–±—ä–µ–∫—Ç, –ª–∏–±–æ —ç–ª–µ–º–µ–Ω—Ç Route. –ï—Å–ª–∏ —ç—Ç–æ –æ–±—ä–µ–∫—Ç, –æ–Ω –∏–º–µ–µ—Ç —Ñ–æ—Ä–º—É `{ path, element }`. –ï—Å–ª–∏ —ç—Ç–æ —ç–ª–µ–º–µ–Ω—Ç Route, –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –∏–º–µ–µ—Ç –≤–∏–¥ `<Route path element>`. –ö–æ–≥–¥–∞ —É–∫–∞–∑–∞–Ω–Ω—ã–π –ø—É—Ç—å `path` —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Ç–µ–∫—É—â–µ–º—É URL-–∞–¥—Ä–µ—Å—É, —Ç–æ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç, —É–∫–∞–∑–∞–Ω–Ω—ã–π –≤ –∫–∞—á–µ—Å—Ç–≤–µ —ç–ª–µ–º–µ–Ω—Ç–∞ `element`.

### –•—É–∫–∏

- `useLocation`
  - –ú–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ ‚Äî —ç—Ç–æ –æ–±—ä–µ–∫—Ç, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ URL. –û–Ω –æ—Å–Ω–æ–≤–∞–Ω –Ω–∞ –æ–±—ä–µ–∫—Ç–µ –±—Ä–∞—É–∑–µ—Ä–∞ `window.location`.
  - –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ–±—ä–µ–∫—Ç —Ç–µ–∫—É—â–µ–≥–æ –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏—è.
- `useNavigate`
  - –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ñ—É–Ω–∫—Ü–∏—é, –∫–æ—Ç–æ—Ä—É—é –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è –ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ–π –Ω–∞–≤–∏–≥–∞—Ü–∏–∏.
- `useParams`
  - –ü–µ—Ä–µ—Ö–≤–∞—Ç—á–∏–∫ `useParams` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ–±—ä–µ–∫—Ç –ø–∞—Ä `–∫–ª—é—á/–∑–Ω–∞—á–µ–Ω–∏–µ` –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –∏–∑ —Ç–µ–∫—É—â–µ–≥–æ URL-–∞–¥—Ä–µ—Å–∞, –∫–æ—Ç–æ—Ä—ã–º —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç `<Route path>`. –î–æ—á–µ—Ä–Ω–∏–µ –º–∞—Ä—à—Ä—É—Ç—ã –Ω–∞—Å–ª–µ–¥—É—é—Ç –≤—Å–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏—Ö –º–∞—Ä—à—Ä—É—Ç–æ–≤.

### [–°–ø–∏—Å–æ–∫ —Ö—É–∫–æ–≤](https://reactrouter.com/ru/main)

- useActionData üÜï
- useAsyncError üÜï
- useAsyncValue üÜï
- useBeforeUnload üÜï
- useFetcher üÜï
- useFetchers üÜï
- useFormAction üÜï
- useHref
- useInRouterContext
- useLinkClickHandler
- useLinkPressHandler
- useLoaderData üÜï
- useLocation
- useMatch
- useMatches üÜï
- useNavigate
- useNavigation üÜï
- useNavigationType
- useOutlet
- useOutletContext
- useParams
- useResolvedPath
- useRevalidator üÜï
- useRouteError üÜï
- useRouteLoaderData üÜï
- useRoutes
- useSearchParams
- useSearchParams (RN)
- useSubmit üÜï

---

url: `http://localhost:3000/today/kyiv?par1=val1`

`App.js`:

```js
import React from 'react';
import { BrowserRouter, Route, Routes } from 'react-router-dom';

import AppHeader from '../appHeader/AppHeader';
import Spinner from '../../components/spinner/Spinner';

import './App.scss';

const Page404 = React.lazy(() => import('../pages/404'));
const MainPage = React.lazy(() => import('../pages/MainPage'));
const TodayPage = React.lazy(() => import('../pages/TodayPage'));

function App() {
	console.log('>> App: render');
	return (
		<BrowserRouter>
			<div className='app'>
				<AppHeader />
				<main>
					<React.Suspense fallback={<Spinner />}>
						<Routes>
							<Route path='/' element={<MainPage />} />

							{/* –º–æ–∂–Ω–æ —Ç–∞–∫: */}
							<Route path='today/:id' element={<TodayPage />} />
							{/* –∏–ª–∏ —Ç–∞–∫: */}
							<Route path='today'>
								<Route path=':id' element={<TodayPage />} />
							</Route>

							<Route path='*' element={<Page404 />} />
						</Routes>
					</React.Suspense>
				</main>
			</div>
		</BrowserRouter>
	);
}

export default App;
```

`TodayPage.js`:

```js
import React from 'react';
import { useParams, useLocation } from 'react-router-dom';

const TodayPage = () => {
	const params = useParams();
	const location = useLocation();

	console.log('>> TodayPage > render', params, location);
	return (
		<>
			<div className='main_page__content'>TodayPage,</div>
		</>
	);
};

export default TodayPage;
/* console log:

>> TodayPage > render 

Object { id: "kyiv" }

Object { pathname: "/today/kyiv", search: "?par1=val1", hash: "", state: null, key: "default" }
*/
```

---

## –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ 6 –≤–µ—Ä—Å–∏–∏ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ 5

[Upgrade all \<Switch> elements to \<Routes>](https://github.com/remix-run/react-router/blob/main/docs/upgrading/v5.md#upgrade-all-switch-elements-to-routes)

–í –≤–µ—Ä—Å–∏–∏ 5 –≤–∞–º –Ω—É–∂–Ω–æ –±—ã–ª–æ —á–µ—Ç–∫–æ —É–∫–∞–∑–∞—Ç—å, –∫–∞–∫ –≤—ã —Ö–æ—Ç–∏—Ç–µ –≤–ª–æ–∂–∏—Ç—å —Å–≤–æ–∏ –º–∞—Ä—à—Ä—É—Ç—ã –∏ —Å—Å—ã–ª–∫–∏. –í –æ–±–æ–∏—Ö —Å–ª—É—á–∞—è—Ö, –µ—Å–ª–∏ –≤–∞–º –Ω—É–∂–Ω—ã –≤–ª–æ–∂–µ–Ω–Ω—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã –∏ —Å—Å—ã–ª–∫–∏, –≤–∞–º –Ω—É–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å —Å–≤–æ–π—Å—Ç–≤–∞ `<Route path>` –∏ `<Link to>` –∏–∑ —Å–≤–æ–π—Å—Ç–≤ `match.url` –∏ `match.path `—Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–≥–æ –º–∞—Ä—à—Ä—É—Ç–∞. –ö—Ä–æ–º–µ —Ç–æ–≥–æ, –µ—Å–ª–∏ –≤—ã —Ö–æ—Ç–µ–ª–∏ –≤–ª–æ–∂–∏—Ç—å –º–∞—Ä—à—Ä—É—Ç—ã, –≤–∞–º –Ω—É–∂–Ω–æ –±—ã–ª–æ –ø–æ–º–µ—Å—Ç–∏—Ç—å –∏—Ö –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–æ—á–µ—Ä–Ω–µ–≥–æ –º–∞—Ä—à—Ä—É—Ç–∞.

```javascript
// This is a React Router v5 app
import {
	BrowserRouter,
	Switch,
	Route,
	Link,
	useRouteMatch,
} from 'react-router-dom';

function App() {
	return (
		<BrowserRouter>
			<Switch>
				<Route exact path='/'>
					<Home />
				</Route>
				<Route path='/users'>
					<Users />
				</Route>
			</Switch>
		</BrowserRouter>
	);
}

function Users() {
	// In v5, nested routes are rendered by the child component, so
	// you have <Switch> elements all over your app for nested UI.
	// You build nested routes and links using match.url and match.path.
	let match = useRouteMatch();

	return (
		<div>
			<nav>
				<Link to={`${match.url}/me`}>My Profile</Link>
			</nav>

			<Switch>
				<Route path={`${match.path}/me`}>
					<OwnUserProfile />
				</Route>
				<Route path={`${match.path}/:id`}>
					<UserProfile />
				</Route>
			</Switch>
		</div>
	);
}
```

```javascript
// This is a React Router v6 app
import { BrowserRouter, Routes, Route, Link } from 'react-router-dom';

function App() {
	return (
		<BrowserRouter>
			<Routes>
				<Route path='/' element={<Home />} />
				<Route path='users/*' element={<Users />} />
			</Routes>
		</BrowserRouter>
	);
}

function Users() {
	return (
		<div>
			<nav>
				<Link to='me'>My Profile</Link>
			</nav>

			<Routes>
				<Route path=':id' element={<UserProfile />} />
				<Route path='me' element={<OwnUserProfile />} />
			</Routes>
		</div>
	);
}
```

–ù–µ—Å–∫–æ–ª—å–∫–æ –≤–∞–∂–Ω—ã—Ö –º–æ–º–µ–Ω—Ç–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ —Å–ª–µ–¥—É–µ—Ç –æ—Ç–º–µ—Ç–∏—Ç—å –≤ –æ—Ç–Ω–æ—à–µ–Ω–∏–∏ v6 –≤ —ç—Ç–æ–º –ø—Ä–∏–º–µ—Ä–µ:

- `<Route path>` –∏ `<Link to>` —è–≤–ª—è—é—Ç—Å—è –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–º–∏. –≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –æ–Ω–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å—Ç—Ä–æ—è—Ç—Å—è –Ω–∞ –ø—É—Ç–∏ –∏ URL-–∞–¥—Ä–µ—Å–µ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–≥–æ –º–∞—Ä—à—Ä—É—Ç–∞, –ø–æ—ç—Ç–æ–º—É –≤–∞–º –Ω–µ –Ω—É–∂–Ω–æ –≤—Ä—É—á–Ω—É—é –∏–Ω—Ç–µ—Ä–ø–æ–ª–∏—Ä–æ–≤–∞—Ç—å `match.url` –∏–ª–∏ `match.path`.
- `<Route exact>` –ø—Ä–æ–ø–∞–ª. –í–º–µ—Å—Ç–æ —ç—Ç–æ–≥–æ –º–∞—Ä—à—Ä—É—Ç—ã —Å –¥–æ—á–µ—Ä–Ω–∏–º–∏ –º–∞—Ä—à—Ä—É—Ç–∞–º–∏ (–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–º–∏ –≤ –¥—Ä—É–≥–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö) –∏—Å–ø–æ–ª—å–∑—É—é—Ç –∑–∞–≤–µ—Ä—à–∞—é—â–∏–π `*` –≤ —Å–≤–æ–µ–º –ø—É—Ç–∏, —á—Ç–æ–±—ã —É–∫–∞–∑–∞—Ç—å, —á—Ç–æ –æ–Ω–∏ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Å–æ–≤–ø–∞–¥–∞—é—Ç.
- –í—ã –º–æ–∂–µ—Ç–µ —Ä–∞—Å–ø–æ–ª–æ–∂–∏—Ç—å —Å–≤–æ–∏ –º–∞—Ä—à—Ä—É—Ç—ã –≤ –ª—é–±–æ–º –ø–æ—Ä—è–¥–∫–µ, –∏ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ç–æ—Ä –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç –ª—É—á—à–∏–π –º–∞—Ä—à—Ä—É—Ç –¥–ª—è —Ç–µ–∫—É—â–µ–≥–æ URL-–∞–¥—Ä–µ—Å–∞. –≠—Ç–æ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –æ—à–∏–±–∫–∏ –∏–∑-–∑–∞ —Ä—É—á–Ω–æ–≥–æ —Ä–∞–∑–º–µ—â–µ–Ω–∏—è –º–∞—Ä—à—Ä—É—Ç–æ–≤ –≤ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ –≤ `<Switch>`.

–í–æ–∑–º–æ–∂–Ω–æ, –≤—ã —Ç–∞–∫–∂–µ –∑–∞–º–µ—Ç–∏–ª–∏, —á—Ç–æ –≤—Å–µ `<Route Children>` –∏–∑ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –≤–µ—Ä—Å–∏–∏ 5 –∏–∑–º–µ–Ω–∏–ª–∏—Å—å –Ω–∞ `<Route element>` –≤ –≤–µ—Ä—Å–∏–∏ 6.

[Advantages of \<Route element>](https://github.com/remix-run/react-router/blob/main/docs/upgrading/v5.md#advantages-of-route-element)

```javascript
// This is a React Router v6 app
import { BrowserRouter, Routes, Route, Link, Outlet } from 'react-router-dom';

function App() {
	return (
		<BrowserRouter>
			<Routes>
				<Route path='/' element={<Home />} />
				<Route path='users' element={<Users />}>
					<Route path=':id' element={<UserProfile />} />
					<Route path='me' element={<OwnUserProfile />} />
				</Route>
			</Routes>
		</BrowserRouter>
	);
}

function Users() {
	return (
		<div>
			<nav>
				<Link to='me'>My Profile</Link>
			</nav>

			<Outlet />
		</div>
	);
}
```

–ü—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ –≤–ª–æ–∂–µ–Ω–Ω–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –º–∞—Ä—à—Ä—É—Ç—ã —Å –¥–æ—á–µ—Ä–Ω–∏–º–∏ —ç–ª–µ–º–µ–Ω—Ç–∞–º–∏ –¥–æ–ª–∂–Ω—ã –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å `<Outlet>`, —á—Ç–æ–±—ã –æ—Ç–æ–±—Ä–∞–∂–∞–ª–∏—Å—å –∏—Ö –¥–æ—á–µ—Ä–Ω–∏–µ –º–∞—Ä—à—Ä—É—Ç—ã. –≠—Ç–æ —É–ø—Ä–æ—â–∞–µ—Ç –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—é –º–∞–∫–µ—Ç–æ–≤ —Å –≤–ª–æ–∂–µ–Ω–Ω—ã–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º.

[Note on \<Route path> patterns](https://github.com/remix-run/react-router/blob/main/docs/upgrading/v5.md#note-on-route-path-patterns)

All of the following are valid route paths in v6:

```
/groups
/groups/admin
/users/:id
/users/:id/messages
/files/*
/files/:id/*
```

The following RegExp-style route paths are **not valid** in v6:

```
/users/:id?
/tweets/:id(\d+)
/files/*/cat.jpg
/files-*
```

[Note on \<Link to> values](https://github.com/remix-run/react-router/blob/main/docs/upgrading/v5.md#note-on-link-to-values)

It may help to think about the current URL as if it were a directory path on the filesystem and `<Link to>` like the cd command line utility.

```javascript
// If your routes look like this
<Route path="app">
  <Route path="dashboard">
    <Route path="stats" />
  </Route>
</Route>

// and the current URL is /app/dashboard (with or without
// a trailing slash)
<Link to="stats">               => <a href="/app/dashboard/stats">
<Link to="../stats">            => <a href="/app/stats">
<Link to="../../stats">         => <a href="/stats">
<Link to="../../../stats">      => <a href="/stats">

// On the command line, if the current directory is /app/dashboard
cd stats                        # pwd is /app/dashboard/stats
cd ../stats                     # pwd is /app/stats
cd ../../stats                  # pwd is /stats
cd ../../../stats               # pwd is /stats
```

[Pass \<Link> state as separate prop](https://github.com/remix-run/react-router/blob/main/docs/upgrading/v5.md#pass-link-state-as-separate-prop)

[Use **useRoutes** instead of **react-router-config**](https://github.com/remix-run/react-router/blob/main/docs/upgrading/v5.md#use-useroutes-instead-of-react-router-config)

[Use **useNavigate** instead of **useHistory**](https://github.com/remix-run/react-router/blob/main/docs/upgrading/v5.md#use-usenavigate-instead-of-usehistory)

[Remove \<Link> **component** prop](https://github.com/remix-run/react-router/blob/main/docs/upgrading/v5.md#remove-link-component-prop)

[Rename \<NavLink **exact**> to \<NavLink **end**>](https://github.com/remix-run/react-router/blob/main/docs/upgrading/v5.md#rename-navlink-exact-to-navlink-end)

[Remove **activeClassName** and **activeStyle** props from \<NavLink />](https://github.com/remix-run/react-router/blob/main/docs/upgrading/v5.md#remove-activeclassname-and-activestyle-props-from-navlink-)

```
<NavLink
  to="/messages"
- style={{ color: 'blue' }}
- activeStyle={{ color: 'green' }}
+ style={({ isActive }) => ({ color: isActive ? 'green' : 'blue' })}
>
  Messages
</NavLink>
```

```
<NavLink
  to="/messages"
- className="nav-link"
- activeClassName="activated"
+ className={({ isActive }) => "nav-link" + (isActive ? " activated" : "")}
>
  Messages
</NavLink>
```

[Get **StaticRouter** from **react-router-dom/server**](https://github.com/remix-run/react-router/blob/main/docs/upgrading/v5.md#get-staticrouter-from-react-router-domserver)

[Replace **useRouteMatch** with **useMatch**](https://github.com/remix-run/react-router/blob/main/docs/upgrading/v5.md#replace-useroutematch-with-usematch)

[Change the order of arguments passed to **matchPath**. Change pathPattern options.](https://github.com/remix-run/react-router/blob/main/docs/upgrading/v5.md#change-the-order-of-arguments-passed-to-matchpath-change-pathpattern-options)

[\<Prompt> is not currently supported](https://github.com/remix-run/react-router/blob/main/docs/upgrading/v5.md#prompt-is-not-currently-supported)

---

## History API

DOM-–æ–±—ä–µ–∫—Ç `Window` –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –¥–æ—Å—Ç—É–ø –∫ –∏—Å—Ç–æ—Ä–∏–∏ —Ç–µ–∫—É—â–µ–π —Å–µ—Å—Å–∏–∏ –±—Ä–∞—É–∑–µ—Ä–∞ (–Ω–µ –ø—É—Ç–∞—Ç—å —Å –∏—Å—Ç–æ—Ä–∏–µ–π –±—Ä–∞—É–∑–µ—Ä–Ω—ã—Ö —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–π) —á–µ—Ä–µ–∑ –æ–±—ä–µ–∫—Ç `history`. –û–Ω –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –ø–æ–ª–µ–∑–Ω—ã–µ –º–µ—Ç–æ–¥—ã –∏ —Å–≤–æ–π—Å—Ç–≤–∞, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–∑–≤–æ–ª—è—é—Ç –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç—å –Ω–∞–∑–∞–¥ –∏ –≤–ø–µ—Ä—ë–¥ –ø–æ –∏—Å—Ç–æ—Ä–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –º–∞–Ω–∏–ø—É–ª–∏—Ä–æ–≤–∞—Ç—å –µ—ë —Å–æ–¥–µ—Ä–∂–∏–º—ã–º.

## –ü–æ–Ω—è—Ç–∏—è –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

–ü–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ –Ω–∞–∑–∞–¥ –∏ –≤–ø–µ—Ä—ë–¥ –ø–æ –∏—Å—Ç–æ—Ä–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —Å –ø–æ–º–æ—â—å—é –º–µ—Ç–æ–¥–æ–≤ `back()`, `forward()`, –∏ `go()`.

## –ü–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ –≤–ø–µ—Ä—ë–¥ –∏ –Ω–∞–∑–∞–¥

–ß—Ç–æ–±—ã –ø–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å—Å—è –Ω–∞–∑–∞–¥ –ø–æ –∏—Å—Ç–æ—Ä–∏–∏:

```javascript
window.history.back();
```

–î–∞–Ω–Ω—ã–π –º–µ—Ç–æ–¥ —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–∞–∫, –±—É–¥—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–∂–∞–ª –Ω–∞ –∫–Ω–æ–ø–∫—É "–ù–∞–∑–∞–¥" –Ω–∞ –ø–∞–Ω–µ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞. –ü–æ—Ö–æ–∂–∏–º –æ–±—Ä–∞–∑–æ–º –º–æ–∂–Ω–æ –ø–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å—Å—è –≤–ø–µ—Ä—ë–¥ (–∫–∞–∫ –µ—Å–ª–∏ –±—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–∂–∞–ª –Ω–∞ –∫–Ω–æ–ø–∫—É "–í–ø–µ—Ä—ë–¥"):

```javascript
window.history.forward();
```

## –ü–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ –∫ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ –≤ –∏—Å—Ç–æ—Ä–∏–∏

–í—ã –º–æ–∂–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –º–µ—Ç–æ–¥ `go()` –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã –∏–∑ –∏—Å—Ç–æ—Ä–∏–∏ —Å–µ—Å—Å–∏–∏, –æ–ø—Ä–µ–¥–µ–ª—è–µ–º–æ–π –µ—ë –ø–æ–∑–∏—Ü–∏–µ–π –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ —Ç–µ–∫—É—â–µ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã. –û—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–∞—è –ø–æ–∑–∏—Ü–∏—è —Ç–µ–∫—É—â–µ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã —Ä–∞–≤–Ω—è–µ—Ç—Å—è 0.

–í–µ—Ä–Ω—É—Ç—å—Å—è –Ω–∞ –æ–¥–Ω—É —Å—Ç—Ä–∞–Ω–∏—Ü—É –Ω–∞–∑–∞–¥ (—Ä–∞–≤–Ω–æ—Ü–µ–Ω–Ω–æ –≤—ã–∑–æ–≤—É `back()`):

```javascript
window.history.go(-1);
```

–ü–µ—Ä–µ–π—Ç–∏ –Ω–∞ –æ–¥–Ω—É —Å—Ç—Ä–∞–Ω–∏—Ü—É –≤–ø–µ—Ä—ë–¥ (—Ä–∞–≤–Ω–æ—Ü–µ–Ω–Ω–æ –≤—ã–∑–æ–≤—É `forward()`)

```javascript
window.history.go(1);
```

–ü–æ —Ç–∞–∫–æ–º—É –∂–µ –ø—Ä–∏–Ω—Ü–∏–ø—É, –º–æ–∂–Ω–æ –ø–µ—Ä–µ–º–µ—â–∞—Ç—å—Å—è –≤–ø–µ—Ä—ë–¥ –Ω–∞ 2 —Å—Ç—Ä–∞–Ω–∏—Ü—ã, –ø–µ—Ä–µ–¥–∞–≤–∞—è –∞—Ä–≥—É–º–µ–Ω—Ç 2, –∏ —Ç–∞–∫ –¥–∞–ª–µ–µ.

–ö—Ä–æ–º–µ —Ç–æ–≥–æ, –º–µ—Ç–æ–¥ `go()` –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Ç–µ–∫—É—â–µ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã, –ø–µ—Ä–µ–¥–∞–≤–∞—è –∞—Ä–≥—É–º–µ–Ω—Ç 0 –∏–ª–∏ –≤—ã–∑—ã–≤–∞—è –µ–≥–æ –±–µ–∑ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤:

```javascript
// –û–±–µ —Å–ª–µ–¥—É—é—â–∏—Ö –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –æ–±–Ω–æ–≤–ª—è—é—Ç —Ç–µ–∫—É—â—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É
window.history.go(0);
window.history.go();
```

–£–∑–Ω–∞—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ç—Ä–∞–Ω–∏—Ü, –∫–æ—Ç–æ—Ä—ã–µ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ —Å—Ç–µ–∫–µ –∏—Å—Ç–æ—Ä–∏–∏, –º–æ–∂–Ω–æ, –ø–æ–ª—É—á–∏–≤ –∑–Ω–∞—á–µ–Ω–∏–µ —Å–≤–æ–π—Å—Ç–≤–∞ `length`:

```javascript
var numberOfEntries = window.history.length;
```

---

## –°—Å—ã–ª–∫–∏

- –û—Å–Ω–æ–≤–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
  - https://reactrouter.com/ru/main
- Upgrade to React Router v6
  - https://github.com/remix-run/react-router/blob/main/docs/upgrading/v5.md#upgrade-to-react-router-v6
- –°–ø–∏—Å–æ–∫ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π
  - https://github.com/remix-run/react-router/releases
- History API
  - https://developer.mozilla.org/ru/docs/Web/API/History_API
- –ü—Ä–∏–º–µ—Ä
  - https://stackblitz.com/github/remix-run/react-router/tree/main/examples/basic?file=src%2FApp.tsx

# 197. Правило названия action и домашнее задание (мини-экзамен)

## структура папок проекта:

- hero_admin_panel (папка проекта)
  - public
    - favicon.ico
    - index.html
  - src
    - actions ( action creator)
      - index.js
    - assets ()
    - components ( компоненты User Interface )
      - app
        - App.js
        - app.scss
      - heroesAddForm
      - heroesFilters
      - heroesList
      - heroesListItem
      - spinner
    - hooks (хуки)
      - http.hook.js
    - reducers ( редюсеры )
      - index.js
    - store ()
      - index.js
    - styles
      - index.scss
    - index.js ( главный файл, с него начинается приложение )

---

## concurrently npm

Модуль **concurrently** позволяет одной командой запускать несколько команд.

**package.json**:

```json
{
	"scripts": {
		"start": "concurrently \"react-scripts start\" \"npx json-server heroes.json --port 3001\"",
		"build": "react-scripts build",
		"test": "react-scripts test",
		"eject": "react-scripts eject"
	}
}
```

Консольная команда `npm start` выполнит две команды:

1. `react-scripts start`
2. `npx json-server heroes.json --port 3001`

---

## Правила названия `actions`

У React redux разработчиков действует негласное правило: `action.type` прописывать:

```
ТЕКСТОМ_В_ВЕРХНЕМ_РЕГИСТРЕ_ЧЕРЕЗ_ЗНАК_ПОДЧЁРКИВАНИЯ
```

Когда используется запрос на сервер создают 3 состояния:

1. что-то запрашивается
2. что-то получено
3. во время запроса произошла ошибка

```javascript
const initialState = {
	heroes: [],
	heroesLoadingStatus: 'idle',
	filters: [],
};

const reducer = (state = initialState, action) => {
	switch (action.type) {
		case 'HEROES_FETCHING':
			return {
				...state,
				heroesLoadingStatus: 'loading',
			};
		case 'HEROES_FETCHED':
			return {
				...state,
				heroes: action.payload,
				heroesLoadingStatus: 'idle',
			};
		case 'HEROES_FETCHING_ERROR':
			return {
				...state,
				heroesLoadingStatus: 'error',
			};
		default:
			return state;
	}
};

export default reducer;
```

---

## `json-server`

### [Routes](https://www.npmjs.com/package/json-server#routes)

Основываясь на `db.json` файле, вот все маршруты по умолчанию. Вы также можете добавить [другие маршруты](https://www.npmjs.com/package/json-server#add-custom-routes), используя `--routes`.

Plural routes:

```
GET    /posts
GET    /posts/1
POST   /posts
PUT    /posts/1
PATCH  /posts/1
DELETE /posts/1
```

---

## Ссылки

- заготовка на github
  - https://github.com/yankovalenko94/JS_task_answers/tree/master/React_Redux_step_28
- решение
  - https://github.com/yankovalenko94/JS_task_answers/tree/master/React_Redux_step_29
- classnames npm
  - https://www.npmjs.com/package/classnames
- concurrently npm
  - https://www.npmjs.com/package/concurrently
- uuid npm
  - https://www.npmjs.com/package/uuid
- json-server npm
  - https://www.npmjs.com/package/json-server
- hero_admin_panel_template.zip
  - https://drive.google.com/file/d/1QlO4MVQy5jrKZIxNgpH8FDtC_5uxMCo6/view
